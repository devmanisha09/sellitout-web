"use strict";(self["webpackChunkflutter_buy_sell"]=self["webpackChunkflutter_buy_sell"]||[]).push([[5232],{8752:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(6252),o=t(3577),l=["type","value","maxlength"];function u(e,n,t,u,a,r){return(0,i.wg)(),(0,i.iD)("input",{class:(0,o.C_)(["lg:text-sm text-xs",t.theme]),type:t.type,value:t.value,maxlength:t.maxlength,onInput:n[0]||(n[0]=function(e){return u.handleInput(e.target.value)})},null,42,l)}var a={name:"PsInput",props:{value:String,type:{type:String,default:"text"},theme:{type:String,default:"ring-primary-200 dark:ring-primaryDark-grey focus:outline-none focus:ring py-2 ps-4 form-input bg-primary-000 dark:bg-primaryDark-black text-secondary-500 dark:text-secondaryDark-white rounded-xl lg:rounded-2xl"},maxlength:{type:Number,default:99999999},onInput:Function},setup:function(e,n){var t=n.emit;function i(n){t("update:value",n),null!=e.onInput&&e.onInput(n)}return{handleInput:i}}},r=t(3744);const c=(0,r.Z)(a,[["render",u]]);var s=c},8649:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(6252),o=t(3577),l={class:"flex flex-row justify-end"};function u(e,n,t,u,a,r){var c=(0,i.up)("ps-label-title"),s=(0,i.up)("ps-label"),d=(0,i.up)("ps-input"),p=(0,i.up)("ps-button"),f=(0,i.up)("ps-modal");return(0,i.wg)(),(0,i.j4)(f,{ref:"psmodal",maxWidth:"350px",isClickOut:!1,class:"z-20"},{title:(0,i.w5)((function(){return[(0,i.Wm)(c,null,{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.title),1)]})),_:1})]})),body:(0,i.w5)((function(){return[(0,i.Wm)(s,null,{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("user_phone_login_verification_modal__please_input_code")),1)]})),_:1}),(0,i.Wm)(d,{class:"mt-2 w-full",value:e.verificationCode,"onUpdate:value":n[0]||(n[0]=function(n){return e.verificationCode=n})},null,8,["value"])]})),footer:(0,i.w5)((function(){return[(0,i._)("div",l,[e.isConfirmed?((0,i.wg)(),(0,i.j4)(p,{key:0,onClick:n[1]||(n[1]=function(n){return e.actionClicked("yes")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.okButton),1)]})),_:1})):((0,i.wg)(),(0,i.j4)(p,{key:1,onClick:n[2]||(n[2]=function(n){return e.actionClicked("confirm")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("user_phone_login_verification_modal__confirm")),1)]})),_:1})),(0,i.Wm)(p,{onClick:n[3]||(n[3]=function(n){return e.actionClicked("no")}),theme:"input-second",class:"ms-4"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.cancelButton),1)]})),_:1})])]})),_:1},512)}var a=t(2262),r=t(5590),c=t(9576),s=t(2052),d=t(593),p=t(8752),f=(0,i.aZ)({name:"UserPhoneLoginVerificationModal",components:{PsModal:r.Z,PsLabel:c.Z,PsLabelTitle:s.Z,PsButton:d.Z,PsInput:p.Z},setup:function(){var e,n,t=(0,a.iH)(),i=(0,a.iH)("Confirm"),o=(0,a.iH)("Are you confirm ?"),l=(0,a.iH)("Yes"),u=(0,a.iH)("No"),r=(0,a.iH)(!1),c=(0,a.iH)("");function s(i){""!=c.value?"yes"==i?(e(c.value),t.value.toggle(!1)):"confirm"==i?r.value=!0:(n(),t.value.toggle(!1)):"no"==i&&t.value.toggle(!1)}function d(a,c,s,d,p,f){i.value=a,o.value=c.toString(),l.value=s,u.value=d,t.value.toggle(!0),e=p,n=f,r.value=!1}return{psmodal:t,title:i,message:o,openModal:d,actionClicked:s,okButton:l,cancelButton:u,verificationCode:c,isConfirmed:r}}}),m=t(3744);const g=(0,m.Z)(f,[["render",u]]);var _=g},5492:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var i=t(6252),o=t(3577),l=t(9963),u={class:"mt-18 bg-primary-500 dark:bg-primaryDark-accent h-screen flex flex-col"},a={class:"mt-18 mb-5 w-96 flex flex-col mx-auto bg-gray-50 dark:bg-gray-800 m-auto rounded-lg"},r=(0,i.Uk)("( Please input first name and last name with a space as a separator in between them. eg: Admin Admin )"),c=(0,i._)("div",{id:"recaptcha-container"},null,-1),s=(0,i.Uk)(),d=(0,i._)("br",null,null,-1),p={class:"flex items-center justify-center mb-4"},f={class:"flex flex-auto justify-center mt-4 mb-10"};function m(e,n,t,m,g,_){var v=(0,i.up)("ps-label-title"),h=(0,i.up)("ps-label"),k=(0,i.up)("ps-input"),b=(0,i.up)("ps-label-caption"),w=(0,i.up)("ps-button"),y=(0,i.up)("user-phone-login-verification-modal"),x=(0,i.up)("ps-error-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",u,[(0,i._)("div",a,[(0,i.Wm)(v,{class:"mt-8 mx-auto text-2xl"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("phone_login__phone_login")),1)]})),_:1}),(0,i.Wm)(h,{class:"mt-4 mx-8"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("phone_login__user_name"))+" : ",1)]})),_:1}),(0,i.Wm)(k,{class:"mt-2 mx-8",type:"text",placeholder:e.$t("phone_login__user_name"),onKeyup:(0,l.D2)(m.clicked,["enter"]),value:m.name,"onUpdate:value":n[0]||(n[0]=function(e){return m.name=e})},null,8,["placeholder","onKeyup","value"]),(0,i.Wm)(b,{class:"mt-2 mx-8"},{default:(0,i.w5)((function(){return[r]})),_:1}),(0,i.Wm)(h,{class:"mt-4 mx-8"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("phone_login__phone_number"))+" : ",1)]})),_:1}),(0,i.Wm)(k,{class:"mt-2 mx-8",type:"text",placeholder:e.$t("phone_login__phone_number_placeholder"),onKeyup:(0,l.D2)(m.clicked,["enter"]),value:m.phone,"onUpdate:value":n[1]||(n[1]=function(e){return m.phone=e})},null,8,["placeholder","onKeyup","value"]),c,s,d,(0,i._)("div",p,[m.userProvider.loading.value?((0,i.wg)(),(0,i.j4)(w,{key:0,class:"mt-6 mx-8",onClick:m.clicked,disabled:!0},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("phone_login__loading")),1)]})),_:1},8,["onClick"])):((0,i.wg)(),(0,i.j4)(w,{key:1,class:"mt-6 mx-8",onClick:m.clicked,disabled:!1},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("phone_login__login")),1)]})),_:1},8,["onClick"]))]),(0,i._)("div",f,[(0,i.Wm)(b,{class:"cursor-pointer",onClick:m.loginClicked},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.$t("phone_login__back_to_login")),1)]})),_:1},8,["onClick"])])])]),(0,i.Wm)(y,{ref:"user_phone_login_verification_modal"},null,512),(0,i.Wm)(x,{ref:"ps_error_dialog"},null,512)],64)}var g=t(655),_=t(2262),v=t(5503),h=(t(2211),t(8345)),k=t(3824),b=t(9576),w=t(2052),y=t(9756),x=t(593),C=t(8752),Z=t(8649),U=t(958),P=t(9399),W=t(3301),L=t(3542),I=t(2567),z=t(679),H=t(9070),$={name:"PhoneLoginView",components:{PsLabel:b.Z,PsLabelTitle:w.Z,PsButton:x.Z,PsInput:C.Z,UserPhoneLoginVerificationModal:Z.Z,PsErrorDialog:U.Z,PsLabelCaption:y.Z},setup:function(){var e,n=(0,W.ie)(),t=new L.Z,o=(0,h.yj)(),l=P.$.psValueHolder,u=l.getLoginUserId(),a=(0,_.iH)(),r=(0,_.iH)(),c=(0,_.iH)(),s=(0,_.iH)();function d(){n.loading.value=!0,setTimeout((function(){window.recaptchaVerifier=new v.Z.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){H.Z.log("Callback"),H.Z.log(e)},"expired-callback":function(){H.Z.log("expiry callback")}}),e=window.recaptchaVerifier,n.loading.value=!1}),1e3)}function p(){n.navigateUserLoginTo("login",k.Z,o.query.redirect,o.query,o.params)}function f(){return(0,g.mG)(this,void 0,void 0,(function(){var i,l,d=this;return(0,g.Jh)(this,(function(p){switch(p.label){case 0:return t.phoneId=u,t.userName=a.value,t.userPhone=r.value,n.loading.value=!0,i=e,[4,v.Z.auth().signInWithPhoneNumber(r.value,i).catch((function(e){n.loading.value=!1,s.value.openModal(z.a.global.t("phone_login__error_in_sign_in"),null===e||void 0===e?void 0:e.message)}))];case 1:return l=p.sent(),n.loading.value=!1,void 0!=l&&c.value.openModal("Phone No Verification","","Submit","Cancel",(function(e){return(0,g.mG)(d,void 0,void 0,(function(){var i=this;return(0,g.Jh)(this,(function(u){return n.loading.value=!0,l.confirm(e).then((function(e){return(0,g.mG)(i,void 0,void 0,(function(){var i;return(0,g.Jh)(this,(function(l){switch(l.label){case 0:return null==e||null==e.user||null==e.user.uid||""==e.user.uid?[3,2]:(i=e.user,t.phoneId=i.uid,[4,n.submitUserLoginWithPhoneId(i.uid,a.value,r.value)]);case 1:return l.sent(),n.userResource.status==I.Z.SUCCESS?n.navigateUserLoginRedirect(o.query.redirect,"dashboard",k.Z,o.query.redirect,o.query,o.params):(s.value.openModal(z.a.global.t("phone_login__error_in_sign_in"),n.userResource.message),n.setLoading(!1)),[3,3];case 2:n.setLoading(!1),l.label=3;case 3:return[2]}}))}))})).catch((function(e){n.setLoading(!1),s.value.openModal(z.a.global.t("phone_login__error_in_sign_in"),null===e||void 0===e?void 0:e.message)})),[2]}))}))}),(function(){H.Z.log("Cancel")})),[2]}}))}))}return n.loading.value=!0,(0,i.bv)((function(){d()})),{userProvider:n,clicked:f,name:a,phone:r,user_phone_login_verification_modal:c,ps_error_dialog:s,loginClicked:p}}},j=t(3744);const D=(0,j.Z)($,[["render",m]]);var M=D}}]);
//# sourceMappingURL=PhoneLogin-legacy.20507a6c.js.map